{#
 * ---------------------------------------------------------------------
 * GLPI - Gestionnaire Libre de Parc Informatique
 * Copyright (C) 2015-2018 Teclib' and contributors.
 *
 * http://glpi-project.org
 *
 * based on GLPI - Gestionnaire Libre de Parc Informatique
 * Copyright (C) 2003-2014 by the INDEPNET Development Team.
 *
 * ---------------------------------------------------------------------
 *
 * LICENSE
 *
 * This file is part of GLPI.
 *
 * GLPI is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * GLPI is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with GLPI. If not, see <http://www.gnu.org/licenses/>.
 * ---------------------------------------------------------------------
 #}
{% set parent_tpl = 'glpi_page' %}
{% if contents is defined %}
   {% set parent_tpl = 'legacy' %}
{% endif %}
{% extends parent_tpl ~ ".twig" %}

{% block title %}{{ __('Edit %1$s')|format(page_title) }}{% endblock %}
{% block content %}
<div class="content">
   {% if contents is defined %}
      {{ contents|raw }}
   {% else %}
   <div class="row">
      <div class="col-md-3">
         <div class="box box-solid">
            <div class="box-body no-padding">
               <ul class="nav nav-pills nav-stacked">
   {# TODO: add items navigation #}
   {% for tab, entry in item.getTabs() %}
      {% if entry is not iterable %}
         {% set label = entry %}
      {% else %}
         {% set label = entry.label %}
      {% endif %}
                  <li{% if 'main' in tab %} class="active"{% endif %}>
                     <a href="{{ path_for('update-asset', {'itemtype': item.getType(), 'id': item.fields.id}) }}#{{ tab }}">
                        {{ label }}
      {% if entry.count is defined %}
                        <span class="pull-right-container">
                           <span class="label label-{% if entry.count == 0 %}default{% else %}primary{% endif %} pull-right">{{ entry.count }}</span>
                        </span>
      {% endif %}
                     </a>
                  </li>
   {% endfor %}
               </ul>
            </div>
         </div>
      </div>
      <div class="col-md-9">
      {% include "elements/form.twig" with {'glpi_form': glpi_form} %}
      </div>
   </div>
   {% endif %}
</div>
{% endblock %}
